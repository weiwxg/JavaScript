# 数据类型

ECMAScript中有5中简单数据类型（也称基本数据类型）:**Undefined**、**Null**、**Boolean**、**Number**、**String**，还有1种复杂数据类型——**Object**。

## typeof

`typeof`用来检测给定变量的数据类型

* `undefined` —— 如果这个值未定义
* `boolean` —— 如果这个值是布尔值
* `string` —— 如果这个值是字符串
* `number` —— 如果这个值是数字
* `object` —— 如果这个值是对象或null
* `function` —— 如果这个值是函数

`typeof`是一个操作符而不是函数，所以使用**typeof(param)**和**typpeof param**一样。

## Undefined

**Undefined**只有一个值，即undefined。

``` javascript
var msg;
alert(msg === undefined); //true
alert(typeof msg); //"undefined"
```

``` javascript
var msg;
alert(msg); //undefined
alert(age); //报错！
alert(typeof age); //"undefined"
```

## Null

**Null**是第二个只有一个值得数据类型，即null，null值表示一个空对象指针，这也正是使用typeof操作加测null值时会返回“object”的原因。

``` javascript
var msg = ull;
alert(typeof msg); //"null"
```

> 如果定义的变量准备将来用来保存对象，那么最好将该变量初始化为null而不是其他值。这样一来，只要检查null值就可以知道相应的变量是否已经保存了一个对象的引用。如：

``` javascript
if(msg != null){
    //对msg对象执行某些操作
}
```

> 实际上，undefined值是派生自null值的，因此ECMA-262规定对它们的相等性测试要返回true：

``` javascript
alert(null == undefined); //true
alert(null === undefined); //false
```

## Boolean

**Boolean**类型只有两个字面值：true 和 false。（区分大小写,True 和 False无效！）。

``` javascript
var msg = "Hello, World";
if(msg){
    alert("Value is true"); //"Value is true".
}
```

## Number

### 浮点型

``` javascript
console.log(0.1 + 0.2); //0.30000000000000004
```

> 基于IEEE754数值的计算精度通病，永远不要测试某个特定的浮点数值。

### 数值范围

``` javascript
console.log(Number.MAX_VALUE); //1.7976931348623157e+308
console.log(Number.MIN_VALUE); //5e-324

console.log(Number.POSITIVE_INFINITY); //Infinity （正无穷）
console.log(Number.NEGATIVE_INFINITY) //-Infinity （负无穷）

console.log(isFinite(Number.MAX_VALUE + Number.MAX_VALUE)); // false
```

### NaN

``` javascript
typeof(NaN); //"number"
console.log("hello" / 1); //NaN
console.log(NaN == NaN); //false
```

### 数值转换

Number()、parseInt()、parseFloat()。

* **Number()** 可以用于任何数据类型
* **parseInt()** 和 **parseFloat()** 专门用于把字符串转换成数值。

**Number()** 函数的转换规则：

>* 如果是Boolean值，true和false分别转换为1和0；
>* 如果是数字值，只是简单的传入和返回；
>* 如果是null值，返回0；
>* 如果是undefined，返回NaN；
>* 如果是字符串，遵循如下规则：
>    * 如果字符串中只包含数字（包括正负符号），则将其转换成十进制值，“123” => 123，“0123” => 123（忽略前导零）；
>    * 如果字符串包含有效的浮点格式，则将其转换成对应的浮点数值（同样会忽略前导零）；
>    * 如果字符串中包含有效的十六进制格式，例如“0xf”，则将其转换为相同大小的十进制整数值；
>    * 如果字符串是空的（不包含任何字符），则将其转换成0；
>    * 如果字符串中包含上述格式之外的字符，则将其转换为NaN。
>* 如果是对象，则调用对象的 valueOf() 方法，然后依照前面的转换规则返回相应的值。如果转换的结果为 NaN，则调用对象的 toString() 方法，然后再次依照前面的规则转换返回的字符串值。

``` javascript
var num1 = Number("Hello World"); //NaN
var num2 = Number(""); //0
var num3 = Number("00011"); //11
var num4 = Number(true); //1
var num5 = Number("true"); //NaN
```
